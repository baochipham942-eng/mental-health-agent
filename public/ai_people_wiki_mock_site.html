<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>AI People Wikiï¼ˆé™æ€åŸå‹é¢„è§ˆï¼‰</title>
  <style>
    :root{
      --bg:#070b10;
      --panel:#0e1623;
      --panel2:#0b1220;
      --text:#eaf1ff;
      --muted:#a7b3ca;
      --line:#1b2636;
      --accent:#7aa2ff;
      --accent2:#3ddc97;
      --warn:#ffcc66;
      --bad:#ff6b6b;
      --shadow: 0 14px 36px rgba(0,0,0,.45);
      --r:18px;
      --r2:14px;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "PingFang SC","Hiragino Sans GB","Microsoft Yahei", Arial, "Noto Sans CJK SC", sans-serif;
      background:
        radial-gradient(900px 520px at 15% -10%, rgba(122,162,255,.20), transparent 60%),
        radial-gradient(880px 520px at 90% 10%, rgba(61,220,151,.16), transparent 55%),
        radial-gradient(700px 420px at 60% 110%, rgba(255,204,102,.10), transparent 65%),
        var(--bg);
      color:var(--text);
      line-height:1.5;
    }
    a{color:var(--accent);text-decoration:none}
    a:hover{text-decoration:underline}
    .app{height:100%;display:flex;flex-direction:column}
    header{
      padding:14px 16px;
      border-bottom:1px solid var(--line);
      background: linear-gradient(180deg, rgba(14,22,35,.88), rgba(14,22,35,.55));
      backdrop-filter: blur(8px);
      position:sticky; top:0; z-index:20;
    }
    .topbar{max-width:1200px;margin:0 auto;display:flex;align-items:center;gap:12px;justify-content:space-between;flex-wrap:wrap}
    .brand{display:flex;align-items:center;gap:10px}
    .logo{
      width:34px;height:34px;border-radius:12px;
      background: linear-gradient(135deg, rgba(122,162,255,.92), rgba(61,220,151,.72));
      box-shadow:0 0 0 4px rgba(122,162,255,.12);
    }
    .brand h1{margin:0;font-size:15px;letter-spacing:.2px}
    .brand p{margin:0;color:var(--muted);font-size:12px}
    .actions{display:flex;gap:8px;flex-wrap:wrap;align-items:center}
    .btn{
      border:1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.18);
      color:var(--text);
      padding:8px 10px;border-radius:12px;
      cursor:pointer;font-size:12px;
      display:inline-flex;gap:8px;align-items:center;
    }
    .btn:hover{background:rgba(255,255,255,.06)}
    .btn.primary{
      border-color: rgba(122,162,255,.35);
      background: rgba(122,162,255,.14);
    }
    .btn.ok{
      border-color: rgba(61,220,151,.35);
      background: rgba(61,220,151,.12);
    }
    .pill{
      font-size:11px;color:var(--muted);
      border:1px solid rgba(255,255,255,.10);
      background: rgba(0,0,0,.15);
      padding:4px 8px;border-radius:999px;
    }

    .layout{max-width:1200px;margin:14px auto 40px;padding:0 16px;display:grid;grid-template-columns: 320px 1fr;gap:14px;align-items:start}
    @media (max-width: 980px){
      .layout{grid-template-columns:1fr}
      .side{position:relative;top:auto}
    }

    .panel{
      border:1px solid var(--line);
      border-radius: var(--r);
      background: rgba(14,22,35,.62);
      box-shadow: var(--shadow);
      overflow:hidden;
    }
    .panel .hd{
      padding:12px 12px 10px;
      border-bottom:1px solid var(--line);
      display:flex;align-items:center;justify-content:space-between;gap:10px;flex-wrap:wrap;
      background: linear-gradient(180deg, rgba(11,18,32,.80), rgba(14,22,35,.35));
    }
    .panel .hd h2{margin:0;font-size:13px}
    .panel .hd .sub{margin:0;color:var(--muted);font-size:12px}
    .panel .bd{padding:12px}
    .side{position:sticky;top:82px}

    .search{
      display:flex;align-items:center;gap:8px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(0,0,0,.18);
      padding:10px 10px;border-radius:14px;
    }
    .search input{
      width:100%;
      border:none;outline:none;background:transparent;
      color:var(--text);font-size:13px;
    }
    .seg{display:flex;gap:8px;flex-wrap:wrap;margin-top:10px}
    .chip{
      border:1px solid rgba(255,255,255,.10);
      background: rgba(0,0,0,.16);
      color:var(--muted);
      font-size:12px;
      padding:6px 10px;border-radius:999px;
      cursor:pointer;
      user-select:none;
    }
    .chip:hover{background:rgba(255,255,255,.06)}
    .chip.active{border-color:rgba(122,162,255,.35);background:rgba(122,162,255,.14);color:#dbe6ff}
    .chip.good.active{border-color:rgba(61,220,151,.35);background:rgba(61,220,151,.12);color:#c7f6e4}
    .chip.warn.active{border-color:rgba(255,204,102,.35);background:rgba(255,204,102,.12);color:#ffe5b8}

    .list{display:flex;flex-direction:column;gap:10px}
    .person{
      border:1px solid rgba(255,255,255,.10);
      background: rgba(11,18,32,.55);
      border-radius: var(--r);
      padding:12px;
      cursor:pointer;
      transition: transform .08s ease, border-color .08s ease, background .08s ease;
    }
    .person:hover{transform: translateY(-1px);border-color: rgba(122,162,255,.28);background: rgba(15,23,36,.58)}
    .person.active{border-color: rgba(122,162,255,.45);background: rgba(122,162,255,.10)}
    .row{display:flex;gap:10px;align-items:flex-start}
    .avatar{
      width:42px;height:42px;border-radius:14px;
      background: rgba(122,162,255,.18);
      border:1px solid rgba(255,255,255,.10);
      display:flex;align-items:center;justify-content:center;
      font-weight:800;color:#d9e6ff;
      flex:0 0 auto;
    }
    .info{flex:1 1 auto;min-width:0}
    .name{display:flex;gap:8px;align-items:center;flex-wrap:wrap}
    .name b{font-size:13.5px}
    .mini{color:var(--muted);font-size:12px;margin-top:3px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
    .tags{display:flex;flex-wrap:wrap;gap:6px;margin-top:10px}
    .tag{
      font-size:11px;
      padding:4px 8px;border-radius:999px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(0,0,0,.16);
      color:var(--muted);
    }
    .score{
      margin-left:auto;
      display:flex;gap:6px;align-items:center;
      color:var(--muted);
      font-size:11px;
    }
    .bar{
      width:68px;height:8px;border-radius:999px;background:rgba(255,255,255,.08);overflow:hidden;border:1px solid rgba(255,255,255,.10)
    }
    .bar > i{
      display:block;height:100%;width:50%;
      background: linear-gradient(90deg, rgba(122,162,255,.85), rgba(61,220,151,.75));
    }

    /* Main content */
    .hero{
      display:flex;gap:12px;align-items:flex-start;justify-content:space-between;flex-wrap:wrap;
      padding:12px 12px 10px;border-bottom:1px solid var(--line);
      background: linear-gradient(180deg, rgba(11,18,32,.80), rgba(14,22,35,.35));
    }
    .hero .left{display:flex;gap:12px;align-items:flex-start}
    .hero .bigA{
      width:56px;height:56px;border-radius:20px;
      background: rgba(61,220,151,.14);
      border:1px solid rgba(255,255,255,.10);
      display:flex;align-items:center;justify-content:center;
      font-size:22px;font-weight:900;color:#d4ffee;
      flex:0 0 auto;
    }
    .hero h2{margin:0;font-size:16px}
    .hero .desc{margin:4px 0 0;color:var(--muted);font-size:12.5px;max-width:760px}
    .hero .right{display:flex;gap:8px;flex-wrap:wrap;align-items:center}
    .toast{
      position:fixed;right:16px;bottom:16px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(14,22,35,.85);
      color:var(--text);
      padding:10px 12px;border-radius:14px;
      box-shadow: var(--shadow);
      display:none;
      max-width: 320px;
      font-size:12px;
    }

    .tabs{
      display:flex;gap:8px;flex-wrap:wrap;
      padding:10px 12px;border-bottom:1px solid var(--line);
      background: rgba(14,22,35,.40);
    }
    .tab{
      border:1px solid rgba(255,255,255,.10);
      background: rgba(0,0,0,.16);
      color:var(--muted);
      padding:7px 10px;border-radius:999px;
      cursor:pointer;font-size:12px;
      user-select:none;
    }
    .tab.active{border-color:rgba(122,162,255,.35);background:rgba(122,162,255,.14);color:#dbe6ff}

    .gridCards{
      padding:12px;
      display:grid;
      grid-template-columns: repeat(12, 1fr);
      gap:12px;
      align-items:start;
    }
    .card{
      grid-column: span 6;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(11,18,32,.55);
      border-radius: var(--r);
      padding:12px;
      overflow:hidden;
    }
    @media (max-width: 980px){ .card{grid-column: span 12;} }
    .card h3{margin:0 0 8px;font-size:13.5px}
    .card p{margin:0 0 10px;color:var(--muted);font-size:12.5px}
    .kv{display:grid;grid-template-columns: 110px 1fr;gap:8px 10px;margin-top:10px}
    .k{color:var(--muted);font-size:12px}
    .v{font-size:12.8px}
    .list2{margin:0;padding-left:18px}
    .list2 li{margin:7px 0}
    .badge{
      display:inline-flex;gap:6px;align-items:center;
      font-size:11px;
      padding:3px 8px;border-radius:999px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.18);
      color:var(--muted);
      vertical-align:middle;
    }
    .badge.ok{border-color:rgba(61,220,151,.35);background:rgba(61,220,151,.12);color:#c7f6e4}
    .badge.warn{border-color:rgba(255,204,102,.35);background:rgba(255,204,102,.12);color:#ffe5b8}
    .badge.bad{border-color:rgba(255,107,107,.35);background:rgba(255,107,107,.12);color:#ffd0d0}

    .claim{
      border:1px solid rgba(255,255,255,.10);
      background: rgba(0,0,0,.14);
      border-radius: 16px;
      padding:10px 10px 8px;
      margin:10px 0;
    }
    .claim b{font-size:12.8px}
    .claim .why{margin:6px 0 8px;color:var(--muted);font-size:12px}
    .ev{display:flex;flex-direction:column;gap:6px}
    .ev a{
      display:flex;gap:8px;align-items:center;
      padding:6px 8px;border-radius:12px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.04);
      font-size:12px;
      color:#dbe6ff;
    }
    .ev a span{color:var(--muted);font-size:11px;margin-left:auto}
    .empty{
      padding:12px;color:var(--muted);font-size:12.5px;
      border:1px dashed rgba(255,255,255,.18);
      border-radius: var(--r);
      background: rgba(0,0,0,.12);
    }

    /* Compare drawer */
    .drawer{
      position:fixed; left:0; right:0; bottom:0;
      background: rgba(14,22,35,.92);
      border-top:1px solid rgba(255,255,255,.12);
      box-shadow: 0 -18px 44px rgba(0,0,0,.50);
      transform: translateY(110%);
      transition: transform .18s ease;
      z-index: 40;
    }
    .drawer.open{transform: translateY(0)}
    .drawer .in{max-width:1200px;margin:0 auto;padding:12px 16px}
    .drawer .top{display:flex;align-items:center;justify-content:space-between;gap:12px;flex-wrap:wrap}
    .drawer h3{margin:0;font-size:13px}
    .drawer .sel{display:flex;gap:10px;flex-wrap:wrap;margin-top:10px}
    .sel .box{
      flex:1 1 280px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(11,18,32,.55);
      border-radius: var(--r);
      padding:10px;
      min-height:120px;
    }
    .box .t{display:flex;align-items:center;justify-content:space-between;gap:8px}
    .box .t b{font-size:12.5px}
    .box .t .x{cursor:pointer;color:var(--muted)}
    .box .t .x:hover{color:var(--text)}
    .box .line{height:1px;background:rgba(255,255,255,.10);margin:8px 0}
    .box .small{color:var(--muted);font-size:12px}
    .cols{display:grid;grid-template-columns:repeat(12,1fr);gap:10px;margin-top:10px}
    .cols .col{
      grid-column: span 4;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(0,0,0,.10);
      border-radius: var(--r2);
      padding:10px;
    }
    @media (max-width: 980px){ .cols .col{grid-column: span 12;} }
    .col h4{margin:0 0 8px;font-size:12.8px}
    .col ul{margin:0;padding-left:18px;color:var(--text);font-size:12.5px}
    .col li{margin:6px 0}
    .muted{color:var(--muted)}
    .kbd{font-size:11px;color:var(--muted);border:1px solid rgba(255,255,255,.14);padding:2px 6px;border-radius:8px}
  </style>
</head>

<body>
<div class="app">
  <header>
    <div class="topbar">
      <div class="brand">
        <div class="logo"></div>
        <div>
          <h1>AI People Wiki</h1>
          <p>æŠŠäººç‰©å˜æˆå­¦ä¹ ä»»åŠ¡ï¼šè§‚ç‚¹å¡ï¼ˆå¸¦è¯æ®ï¼‰ Â· å–èˆå¤ç›˜ Â· å­¦ä¹ è·¯å¾„</p>
        </div>
      </div>
      <div class="actions">
        <span class="pill">è¾¹ç•Œï¼šä¸åš YouTube æ·±æŒ–</span>
        <button class="btn" id="openCompare">ğŸ§© å¯¹æ¯”ï¼ˆ<span id="cmpCount">0</span>/3ï¼‰</button>
        <button class="btn primary" id="weekly">ğŸ—“ï¸ ç”Ÿæˆæ¯å‘¨å­¦ä¹ æ¸…å•</button>
        <button class="btn ok" id="subscribe">ğŸ”” è®¢é˜…æ›´æ–°</button>
      </div>
    </div>
  </header>

  <div class="layout">
    <aside class="panel side">
      <div class="hd">
        <div>
          <h2>äººç‰©åº“</h2>
          <p class="sub"><span id="resultCount">0</span> ä½äººç‰© Â· å¯æŒ‰è§’è‰²/ä¸»é¢˜è¿‡æ»¤</p>
        </div>
        <span class="kbd">Ctrl/âŒ˜ K</span>
      </div>
      <div class="bd">
        <div class="search">
          <span>ğŸ”</span>
          <input id="search" placeholder="æœç´¢äººç‰©/ä¸»é¢˜/å…¬å¸ï¼Œå¦‚ Agent / Eval / OpenAI" />
        </div>

        <div class="seg" style="margin-top:12px">
          <div class="pill">è§’è‰²</div>
          <div id="roleChips" class="seg"></div>
        </div>

        <div class="seg" style="margin-top:10px">
          <div class="pill">ä¸»é¢˜</div>
          <div id="topicChips" class="seg"></div>
        </div>

        <div class="seg" style="margin-top:10px">
          <div class="pill">è´¨é‡é—¨ç¦</div>
          <div class="seg">
            <span class="chip good" data-qgate="pass">âœ… å¯ç›´æ¥å‘å¸ƒ</span>
            <span class="chip warn" data-qgate="review">âš ï¸ éœ€äººå·¥å¤æ ¸</span>
          </div>
        </div>

        <div style="height:12px"></div>
        <div class="list" id="peopleList"></div>
      </div>
    </aside>

    <main class="panel" id="mainPanel">
      <div class="hero" id="hero">
        <div class="left">
          <div class="bigA" id="heroAvatar">A</div>
          <div>
            <h2 id="heroName">é€‰æ‹©ä¸€ä¸ªäººç‰©</h2>
            <div class="desc" id="heroDesc">å·¦ä¾§ç‚¹å‡»äººç‰©å¡ç‰‡ï¼ŒæŸ¥çœ‹â€œå­¦ä¹ ä»»åŠ¡å‹äººç‰©é¡µâ€ï¼šWho / Timeline / Why / Follow / What / So whatã€‚</div>
          </div>
        </div>
        <div class="right">
          <button class="btn" id="addToCompare">â• åŠ å…¥å¯¹æ¯”</button>
          <button class="btn" id="copyLink">ğŸ”— å¤åˆ¶åˆ†äº«é“¾æ¥</button>
          <button class="btn primary" id="startTasks">â–¶ï¸ å¼€å§‹å­¦ä¹ ä»»åŠ¡</button>
        </div>
      </div>

      <div class="tabs" id="tabs">
        <span class="tab active" data-tab="who">Who</span>
        <span class="tab" data-tab="timeline">Timeline</span>
        <span class="tab" data-tab="why">Why important</span>
        <span class="tab" data-tab="follow">Where to follow</span>
        <span class="tab" data-tab="what">What they say</span>
        <span class="tab" data-tab="sowhat">So what</span>
        <span class="tab" data-tab="tasks">Learning tasks</span>
      </div>

      <div class="gridCards" id="content"></div>
    </main>
  </div>

  <div class="drawer" id="drawer">
    <div class="in">
      <div class="top">
        <h3>äººç‰©å¯¹æ¯”ï¼ˆåŒä¸»é¢˜åˆ†æ­§ & å–èˆï¼‰</h3>
        <div style="display:flex;gap:8px;flex-wrap:wrap;align-items:center">
          <span class="muted">é€‰æ‹© 2~3 äººæ•ˆæœæœ€å¥½</span>
          <button class="btn" id="closeCompare">å…³é—­</button>
          <button class="btn primary" id="runCompare">ç”Ÿæˆå¯¹æ¯”è§†å›¾</button>
        </div>
      </div>
      <div class="sel" id="cmpSlots"></div>
      <div class="cols" id="cmpView" style="display:none"></div>
    </div>
  </div>

  <div class="toast" id="toast"></div>
</div>

<script>
  const PEOPLE = [
    {
      id:"sam_altman",
      name:"Sam Altman",
      oneLiner:"OpenAI CEO Â· AI å•†ä¸šåŒ–ä¸æˆ˜ç•¥",
      roles:["Founder","Product"],
      orgs:["OpenAI","Y Combinator"],
      topics:["AGI","AI Strategy","Commercialization","AI Product","Safety"],
      gate:"review",
      score:88,
      who:{
        company:"OpenAI",
        function:"äº§å“/åˆ›ä¸š/æˆ˜ç•¥",
        activeYears:"2014â€“è‡³ä»Š",
        aliases:["Samuel Altman"],
        disambiguation:"åŒåé£é™©ä½ï¼Œä½†éœ€ç¡®è®¤è´¦å·ä¸é‡‡è®¿æ¥æºä¸€è‡´ã€‚"
      },
      timeline:[
        {period:"2014â€“2019", org:"Y Combinator", role:"President", what:"æ¨åŠ¨åˆ›ä¸šç”Ÿæ€ä¸æŠ•èµ„å¸ƒå±€ï¼ˆç¤ºä¾‹ï¼‰", ev:[{label:"YC profile", url:"#", date:"2018-05-01"}]},
        {period:"2019â€“è‡³ä»Š", org:"OpenAI", role:"CEO", what:"æ¨åŠ¨ ChatGPT äº§å“åŒ–ä¸å•†ä¸šåŒ–ï¼ˆç¤ºä¾‹ï¼‰", ev:[{label:"OpenAI leadership", url:"#", date:"2024-11-01"}]}
      ],
      why:{
        contributions:[
          {type:"Product", name:"ChatGPT", impact:"è®©å¤§ä¼—é¦–æ¬¡å¤§è§„æ¨¡ä½“éªŒç”Ÿæˆå¼AIäº§å“åŒ–å½¢æ€ï¼ˆç¤ºä¾‹ï¼‰", ev:[{label:"Product announcement", url:"#", date:"2022-11-30"}]},
          {type:"Org/Strategy", name:"AI platform strategy", impact:"å›´ç»•æ¨¡å‹/åº”ç”¨/ç”Ÿæ€çš„æˆ˜ç•¥å™äº‹ä¸èµ„æºé…ç½®ï¼ˆç¤ºä¾‹ï¼‰", ev:[{label:"Interview", url:"#", date:"2024-03-12"}]}
        ],
        influence:[
          "å¼ºè¡Œä¸šæåŠåº¦ï¼›ä¸æ”¿ç­–/èµ„æœ¬/ç ”ç©¶å¤šåœˆå±‚å…±ç°ï¼ˆç¤ºä¾‹ï¼‰",
          "äº‰è®®ç‚¹é›†ä¸­åœ¨é€Ÿåº¦ vs å®‰å…¨ã€å¼€æ”¾ vs é—­æº"
        ]
      },
      follow:[
        {platform:"X", handle:"@sama", verify:"verified", ev:"Profile verifiedï¼ˆç¤ºä¾‹ï¼‰", url:"#"},
        {platform:"Blog/Interviews", handle:"Collected posts", verify:"strong", ev:"å®˜æ–¹/ä¸»æµåª’ä½“é‡‡è®¿é“¾æ¥é›†åˆï¼ˆç¤ºä¾‹ï¼‰", url:"#"},
        {platform:"YouTube", handle:"Talks (link-only)", verify:"strong", ev:"ä¸åšæ·±æŒ–ï¼Œä»…æ”¶å½•é“¾æ¥/æ ‡é¢˜/ç®€ä»‹", url:"#", note:"è§†é¢‘å¾…å¤–éƒ¨å›¢é˜Ÿæ‘˜è¦"}
      ],
      what:{
        clusters:[
          {topic:"AI Strategy", claims:[
            {c:"AI ç«äº‰çš„å…³é”®ä¼šä»â€œæ¨¡å‹æœ¬èº«â€é€æ­¥è½¬å‘â€œäº§å“åŒ–ä¸åˆ†å‘èƒ½åŠ›â€ã€‚", why:"å¸®åŠ©PMç†è§£è·¯çº¿ï¼šæ¨¡å‹èƒ½åŠ›åªæ˜¯å‰æï¼Œä½“éªŒ/æ¸ é“/ç”Ÿæ€å†³å®šè§„æ¨¡åŒ–ã€‚", ev:[{t:"Interview excerpt", url:"#", d:"2024-03-12"}]},
            {c:"å¯¹å¼€å‘è€…è€Œè¨€ï¼Œå¹³å°åŒ–èƒ½åŠ›ï¼ˆAPI/å·¥å…·é“¾ï¼‰å°†æŒç»­é™ä½åº”ç”¨é—¨æ§›ã€‚", why:"å·¥ç¨‹ä¾§å¯å¯¹ç…§ï¼šå·¥å…·é“¾/è¯„æµ‹/å®‰å…¨/æˆæœ¬çš„ç³»ç»Ÿèƒ½åŠ›æ›´é‡è¦ã€‚", ev:[{t:"Dev keynote", url:"#", d:"2023-11-06"}]}
          ]},
          {topic:"Safety / Governance", claims:[
            {c:"å®‰å…¨ä¸é€Ÿåº¦ä¹‹é—´éœ€è¦æŒç»­æƒè¡¡ï¼Œå¹¶å»ºç«‹å¯è¿­ä»£çš„æ²»ç†æœºåˆ¶ã€‚", why:"æŠŠâ€œå®‰å…¨â€ä»å£å·å˜æˆå¯æ‰§è¡Œçš„æµç¨‹ä¸é—¨ç¦ã€‚", ev:[{t:"Policy statement", url:"#", d:"2024-05-22"}]}
          ]}
        ]
      },
      sowhat:{
        longTerm:["æŠŠå¤§æ¨¡å‹å˜æˆå¯ç”¨ã€å¯è§„æ¨¡åŒ–çš„äº§å“ä¸å¹³å°ï¼ˆç¤ºä¾‹ï¼‰"],
        tradeoffs:[
          {stage:"2023â€“2024", t:"speed_vs_safety", decision:"å¿«é€Ÿè¿­ä»£äº§å“ä½“éªŒï¼ŒåŒæ—¶å¢åŠ å®‰å…¨/å¯¹é½æŠ•å…¥ï¼ˆç¤ºä¾‹ï¼‰", result:"äº§å“å¢é•¿ + ç›‘ç®¡å…³æ³¨æå‡ï¼ˆç¤ºä¾‹ï¼‰", ev:[{t:"Press coverage", url:"#", d:"2024-04-01"}]},
          {stage:"2024â€“", t:"open_vs_closed", decision:"æ›´åå¹³å°åŒ–ä¸å•†ä¸šåŒ–ç­–ç•¥ï¼ˆç¤ºä¾‹ï¼‰", result:"ç”Ÿæ€æ›´å¤§ä½†é€æ˜åº¦äº‰è®®ï¼ˆç¤ºä¾‹ï¼‰", ev:[{t:"Industry analysis", url:"#", d:"2024-09-10"}]}
        ],
        outcomes:["ChatGPT/å¹³å°åŒ–APIç”Ÿæ€ï¼ˆç¤ºä¾‹ï¼‰","æ¨åŠ¨è¡Œä¸šå¯¹AGIä¸æ²»ç†çš„å…¬å…±è®¨è®ºï¼ˆç¤ºä¾‹ï¼‰"]
      },
      tasks:[
        {level:"Intro Â· 15m", task:"è¯»ä¸¤å¼ è§‚ç‚¹å¡å¹¶å†™ 5 å¥æ€»ç»“ï¼šâ€˜ä»–å…³å¿ƒçš„é•¿æœŸé—®é¢˜æ˜¯ä»€ä¹ˆï¼Ÿâ€™", output:"ä¸€é¡µç¬”è®°", inputs:["AI Strategy #1","Safety #1"]},
        {level:"Intermediate Â· 45m", task:"æŠŠâ€˜é€Ÿåº¦ vs å®‰å…¨â€™æ‹†æˆå¯æ‰§è¡Œé—¨ç¦ï¼šæ•°æ®â†’è¯„æµ‹â†’å‘å¸ƒâ†’å›æ»š", output:"ä¸€é¡µæµç¨‹å›¾", inputs:["Tradeoff 2023â€“2024"]},
        {level:"Advanced Â· 2h", task:"åŸºäºä¸€ä¸ªä½ ä»¬çš„äº§å“åœºæ™¯ï¼Œåšä¸€ä»½â€˜å¹³å°åŒ–èƒ½åŠ›æ¸…å•â€™ï¼ˆAPI/è¯„æµ‹/æˆæœ¬/å®‰å…¨ï¼‰", output:"æ¸…å•+ä¼˜å…ˆçº§", inputs:["AI Strategy #2"]}
      ]
    },
    {
      id:"fei_fei_li",
      name:"Fei-Fei Li",
      oneLiner:"ç ”ç©¶è€… Â· è®¡ç®—æœºè§†è§‰ä¸AIæ•™è‚²æ¨åŠ¨è€…",
      roles:["Research","Academic"],
      orgs:["Stanford","AI4ALL"],
      topics:["Computer Vision","AI Education","Embodied AI","Human-centered AI"],
      gate:"pass",
      score:84,
      who:{
        company:"Stanford",
        function:"ç ”ç©¶/æ•™è‚²/ç»„ç»‡",
        activeYears:"2000sâ€“è‡³ä»Š",
        aliases:["æé£é£"],
        disambiguation:"ä¸­æ–‡è¯‘åå¸¸è§ï¼Œæ³¨æ„åŒåä½†é£é™©ä½ã€‚"
      },
      timeline:[
        {period:"2010â€“2018", org:"Stanford", role:"Professor", what:"æ¨åŠ¨ ImageNet ç­‰è§†è§‰æ•°æ®ä¸ç ”ç©¶ï¼ˆç¤ºä¾‹ï¼‰", ev:[{label:"Lab page", url:"#", date:"2012-01-01"}]},
        {period:"2017â€“è‡³ä»Š", org:"AI4ALL", role:"Co-founder", what:"æ¨åŠ¨AIæ•™è‚²ä¸å¤šæ ·æ€§ï¼ˆç¤ºä¾‹ï¼‰", ev:[{label:"AI4ALL", url:"#", date:"2017-07-01"}]}
      ],
      why:{
        contributions:[
          {type:"Research", name:"ImageNet", impact:"æ¨åŠ¨æ·±åº¦å­¦ä¹ åœ¨è§†è§‰çš„çªç ´ä¸åŸºå‡†ä½“ç³»ï¼ˆç¤ºä¾‹ï¼‰", ev:[{label:"Paper/Project", url:"#", date:"2009-09-10"}]},
          {type:"Org", name:"AI4ALL", impact:"æ‰©å¤§AIæ•™è‚²å¯åŠæ€§ä¸äººæ‰å¤šæ ·æ€§ï¼ˆç¤ºä¾‹ï¼‰", ev:[{label:"Org announcement", url:"#", date:"2017-07-01"}]}
        ],
        influence:["å­¦æœ¯å¼•ç”¨ä¸æ•™è‚²å½±å“æ˜¾è‘—ï¼ˆç¤ºä¾‹ï¼‰","å¯¹â€˜ä»¥äººä¸ºæœ¬â€™ä¸â€˜å¯åŠæ€§â€™è®®é¢˜æŒç»­å‘å£°"]
      },
      follow:[
        {platform:"University", handle:"Profile", verify:"verified", ev:"å®˜æ–¹ç®€ä»‹é¡µé¢ï¼ˆç¤ºä¾‹ï¼‰", url:"#"},
        {platform:"X", handle:"@drfeifei", verify:"strong", ev:"ä¸å®˜ç½‘äº’é“¾ï¼ˆç¤ºä¾‹ï¼‰", url:"#"}
      ],
      what:{
        clusters:[
          {topic:"Human-centered AI", claims:[
            {c:"AI ç³»ç»Ÿçš„è®¾è®¡å¿…é¡»å…³æ³¨äººçš„ä½“éªŒã€å®‰å…¨ä¸å…¬å¹³ã€‚", why:"æŠŠâ€˜ä»¥äººä¸ºæœ¬â€™è½å®åˆ°äº§å“ä¸è¯„æµ‹æŒ‡æ ‡ã€‚", ev:[{t:"Talk notes", url:"#", d:"2023-02-18"}]}
          ]},
          {topic:"Embodied AI", claims:[
            {c:"å…·èº«æ™ºèƒ½éœ€è¦æŠŠæ„ŸçŸ¥ã€è¡ŒåŠ¨ä¸ç¯å¢ƒäº¤äº’ä½œä¸ºä¸€ä½“ç³»ç»Ÿæ¥è®­ç»ƒä¸è¯„æµ‹ã€‚", why:"å·¥ç¨‹ä¾§å¯è½¬åŒ–ä¸ºâ€˜é—­ç¯è¯„æµ‹â€™ä¸â€˜ç¯å¢ƒåŸºå‡†â€™å»ºè®¾ã€‚", ev:[{t:"Research overview", url:"#", d:"2022-10-05"}]}
          ]}
        ]
      },
      sowhat:{
        longTerm:["è®©AIæ›´å¯é ã€æ›´å¯åŠã€æ›´è´´è¿‘çœŸå®ä¸–ç•Œï¼ˆç¤ºä¾‹ï¼‰"],
        tradeoffs:[
          {stage:"é•¿æœŸ", t:"accuracy_vs_fairness", decision:"åœ¨æ€§èƒ½è¿½æ±‚ä¹‹å¤–å¼•å…¥å…¬å¹³ä¸å®‰å…¨çº¦æŸï¼ˆç¤ºä¾‹ï¼‰", result:"ç ”ç©¶ä¸å…¬å…±è®¨è®ºå¹¶è¿›ï¼ˆç¤ºä¾‹ï¼‰", ev:[{t:"Essay", url:"#", d:"2021-06-12"}]}
        ],
        outcomes:["è§†è§‰åŸºå‡†ä¸æ•™è‚²ç»„ç»‡åŒ–äº§å‡ºï¼ˆç¤ºä¾‹ï¼‰"]
      },
      tasks:[
        {level:"Intro Â· 15m", task:"è¯»ä¸€æ¡è§‚ç‚¹å¡ï¼Œå†™ä¸‹â€˜ä»¥äººä¸ºæœ¬â€™å¯¹åº”çš„3ä¸ªå¯é‡åŒ–æŒ‡æ ‡", output:"ä¸‰æŒ‡æ ‡åˆ—è¡¨", inputs:["Human-centered AI #1"]},
        {level:"Intermediate Â· 45m", task:"ä¸ºä½ çš„äº§å“è®¾è®¡ä¸€ä¸ªâ€˜é—­ç¯è¯„æµ‹â€™ï¼šç¯å¢ƒâ†’ä»»åŠ¡â†’æŒ‡æ ‡â†’å›æ”¾", output:"è¯„æµ‹è‰æ¡ˆ", inputs:["Embodied AI #1"]}
      ]
    },
    {
      id:"joanne_jang",
      name:"Joanne Jang",
      oneLiner:"AI äº§å“ä¸ä¸ªæ€§åŒ– Â· å¯¹é½ä¸ä½“éªŒçš„æ¡¥æ¢ï¼ˆç¤ºä¾‹ï¼‰",
      roles:["Product","Research"],
      orgs:["OpenAI"],
      topics:["Personalization","AI Personality","Alignment","Product Management"],
      gate:"review",
      score:79,
      who:{company:"OpenAI",function:"äº§å“/å¯¹é½/ä½“éªŒ",activeYears:"2020sâ€“è‡³ä»Š",aliases:["(ç¤ºä¾‹)"],disambiguation:"åŒåé£é™©ä¸­ç­‰ï¼šéœ€ç»‘å®šæ­£ç¡®å²—ä½ä¸è´¦å·ã€‚"},
      timeline:[
        {period:"2022â€“è‡³ä»Š", org:"OpenAI", role:"Product/Alignment", what:"å‚ä¸ä¸ªæ€§åŒ–ä¸å¯¹é½ç›¸å…³æ–¹å‘ï¼ˆç¤ºä¾‹ï¼‰", ev:[{label:"Interview", url:"#", date:"2024-01-15"}]}
      ],
      why:{
        contributions:[
          {type:"Product", name:"Personalization framing", impact:"æŠŠä¸ªæ€§åŒ–ä»â€˜é£æ ¼â€™æ‰©å±•åˆ°â€˜åå¥½/è®°å¿†/è¾¹ç•Œâ€™ï¼ˆç¤ºä¾‹ï¼‰", ev:[{label:"Talk", url:"#", date:"2024-01-15"}]}
        ],
        influence:["è¿æ¥ PM è¯­è¨€ä¸å¯¹é½/å®‰å…¨è¯­è¨€ï¼ˆç¤ºä¾‹ï¼‰"]
      },
      follow:[
        {platform:"X", handle:"(to be verified)", verify:"weak", ev:"ç¼ºå¼ºè¯æ®ï¼Œé»˜è®¤éšè—å±•ç¤ºï¼ˆç¤ºä¾‹ï¼‰", url:"#"}
      ],
      what:{clusters:[
        {topic:"AI Personality", claims:[
          {c:"ä¸ªæ€§åŒ–ä¸æ˜¯â€˜æ›´ä¼šèŠå¤©â€™ï¼Œè€Œæ˜¯â€˜æ›´å¯æ§åœ°æ»¡è¶³åå¥½å¹¶ä¿æŒè¾¹ç•Œâ€™ã€‚", why:"äº§å“å±‚é¢è¦æœ‰â€˜æ§åˆ¶é¢æ¿/å¯è§£é‡Š/å¯å›æ»šâ€™è€Œéåªåšé£æ ¼ã€‚", ev:[{t:"Talk transcript (non-YouTube)", url:"#", d:"2024-01-15"}]}
        ]}
      ]},
      sowhat:{
        longTerm:["è®©æ¨¡å‹æ›´åƒä¸€ä¸ªå¯æ§çš„äº§å“ï¼Œè€Œä¸æ˜¯ä¸å¯é¢„æµ‹çš„é»‘ç›’ï¼ˆç¤ºä¾‹ï¼‰"],
        tradeoffs:[
          {stage:"äº§å“åŒ–", t:"ux_vs_control", decision:"å¼•å…¥å¯æ§æ€§ä¸é€æ˜åº¦æœºåˆ¶ï¼ˆç¤ºä¾‹ï¼‰", result:"ä½“éªŒæ›´ç¨³å®šä½†äº¤äº’æ›´å¤æ‚ï¼ˆç¤ºä¾‹ï¼‰", ev:[{t:"Discussion notes", url:"#", d:"2024-02-02"}]}
        ],
        outcomes:["ä¸ªæ€§åŒ–ä¸å¯¹é½çš„äº§å“åŒ–è¡¨è¾¾ï¼ˆç¤ºä¾‹ï¼‰"]
      },
      tasks:[
        {level:"Intro Â· 15m", task:"æŠŠâ€˜åå¥½/è®°å¿†/è¾¹ç•Œâ€™æ‹†æˆ3ä¸ªUIæ§åˆ¶é¡¹", output:"æ§åˆ¶é¡¹è‰å›¾", inputs:["AI Personality #1"]},
        {level:"Intermediate Â· 45m", task:"ä¸ºâ€˜ä¸ªæ€§åŒ–â€™å®šä¹‰ä¸€å¥—è¯„æµ‹ï¼šæ»¡æ„åº¦/è¶Šç•Œç‡/å¯æ¢å¤ç‡", output:"ä¸‰æŒ‡æ ‡+æµ‹æ³•", inputs:["AI Personality #1"]}
      ]
    },
    {
      id:"boris_cherny",
      name:"Boris Cherny",
      oneLiner:"å·¥ç¨‹è§†è§’ Â· Agent / RAG / AI coding è®²è§£è€…ï¼ˆç¤ºä¾‹ï¼‰",
      roles:["Engineering","Educator"],
      orgs:["Independent"],
      topics:["Agent","RAG","AI Coding","Agentic RAG"],
      gate:"pass",
      score:75,
      who:{company:"Independent",function:"å·¥ç¨‹/å†…å®¹",activeYears:"2023â€“è‡³ä»Š",aliases:["Boris C."],disambiguation:"åŒåé£é™©ä¸­ï¼šéœ€ç”¨å®˜ç½‘/ç¤¾åª’äº’é“¾éªŒè¯ã€‚"},
      timeline:[
        {period:"2023â€“è‡³ä»Š", org:"Independent", role:"Engineer/Educator", what:"è¾“å‡ºçŸ­å†…å®¹è§£é‡Š Agentic RAG ç­‰æ¦‚å¿µï¼ˆç¤ºä¾‹ï¼‰", ev:[{label:"Blog", url:"#", date:"2024-08-09"}]}
      ],
      why:{
        contributions:[
          {type:"Idea", name:"Agentic RAG explanation", impact:"ç”¨å·¥ç¨‹è¯­è¨€è§£é‡Šä¸ºä½•è¦â€˜æ£€ç´¢-è§„åˆ’-å·¥å…·è°ƒç”¨-è¯„æµ‹é—­ç¯â€™ï¼ˆç¤ºä¾‹ï¼‰", ev:[{label:"Blog post", url:"#", date:"2024-08-09"}]}
        ],
        influence:["å¯¹å·¥ç¨‹å›¢é˜Ÿè½åœ°æœ‰ç›´æ¥å¸®åŠ©ï¼ˆç¤ºä¾‹ï¼‰"]
      },
      follow:[
        {platform:"Blog", handle:"Site", verify:"strong", ev:"ä¸»ç«™ä¸ç¤¾åª’äº’é“¾ï¼ˆç¤ºä¾‹ï¼‰", url:"#"},
        {platform:"YouTube", handle:"Short videos", verify:"strong", ev:"åªæ”¶é“¾æ¥/æ ‡é¢˜/ç®€ä»‹ï¼ˆä¸æ·±æŒ–ï¼‰", url:"#", note:"è§†é¢‘å¾…å¤–éƒ¨å›¢é˜Ÿæ‘˜è¦"}
      ],
      what:{clusters:[
        {topic:"Agentic RAG", claims:[
          {c:"RAG ä¸æ˜¯â€˜æœä¸€ä¸‹å†ç­”â€™ï¼Œè€Œæ˜¯â€˜æ£€ç´¢â†’è®¡åˆ’â†’å·¥å…·â†’éªŒè¯â€™çš„å¾ªç¯ã€‚", why:"å·¥ç¨‹è½åœ°é‡ç‚¹åœ¨ï¼šå·¥å…·æ¥å£ã€çŠ¶æ€æœºã€è¯„æµ‹ä¸å›æ”¾ã€‚", ev:[{t:"Blog excerpt", url:"#", d:"2024-08-09"}]}
        ]}
      ]},
      sowhat:{
        longTerm:["æŠŠ LLM å˜æˆå¯è°ƒè¯•ã€å¯è¯„æµ‹çš„å·¥ç¨‹ç³»ç»Ÿï¼ˆç¤ºä¾‹ï¼‰"],
        tradeoffs:[
          {stage:"è½åœ°", t:"simplicity_vs_control", decision:"å¼•å…¥çŠ¶æ€ä¸æ—¥å¿—æé«˜å¯æ§æ€§ï¼ˆç¤ºä¾‹ï¼‰", result:"å¤æ‚åº¦â†‘ä½†å¯ç»´æŠ¤æ€§â†‘ï¼ˆç¤ºä¾‹ï¼‰", ev:[{t:"Blog excerpt", url:"#", d:"2024-08-09"}]}
        ],
        outcomes:["Agentic RAG å®è·µæ¸…å•ï¼ˆç¤ºä¾‹ï¼‰"]
      },
      tasks:[
        {level:"Intro Â· 15m", task:"ç”»å‡ºä¸€ä¸ª Agentic RAG çš„ 5 æ­¥çŠ¶æ€æœº", output:"çŠ¶æ€æœºè‰å›¾", inputs:["Agentic RAG #1"]},
        {level:"Advanced Â· 2h", task:"ä¸ºä½ ä»¬çš„ Data Agent è®¾è®¡ï¼šæ—¥å¿—å­—æ®µ + å›æ”¾ + è¯„æµ‹ç”¨ä¾‹", output:"ä¸€é¡µè®¾è®¡æ–‡æ¡£", inputs:["Agentic RAG #1"]}
      ]
    },
    {
      id:"kevin_weil",
      name:"Kevin Weil",
      oneLiner:"äº§å“/å¹³å° Â· Evaluations ä¸å·¥ç¨‹åŒ–å®è·µï¼ˆç¤ºä¾‹ï¼‰",
      roles:["Product","Engineering"],
      orgs:["OpenAI (ç¤ºä¾‹)"],
      topics:["Evaluations","Tooling","Developer Platform"],
      gate:"review",
      score:77,
      who:{company:"OpenAI (ç¤ºä¾‹)",function:"äº§å“/å¹³å°",activeYears:"2024â€“è‡³ä»Š",aliases:["K. Weil"],disambiguation:"åŒåé£é™©ä¸­ï¼šéœ€ç»‘å®šæ­£ç¡®çš„å…¬å¼€å±¥å†ä¸è´¦å·ã€‚"},
      timeline:[
        {period:"2024â€“è‡³ä»Š", org:"OpenAI (ç¤ºä¾‹)", role:"Platform/Product", what:"æ¨åŠ¨è¯„æµ‹ä½“ç³»ä¸å¼€å‘è€…å¹³å°ï¼ˆç¤ºä¾‹ï¼‰", ev:[{label:"Talk", url:"#", date:"2024-10-10"}]}
      ],
      why:{
        contributions:[
          {type:"Method", name:"Eval-first mindset", impact:"æŠŠâ€˜è¯„æµ‹â€™ä¸Šå‡ä¸ºäº§å“è¿­ä»£ä¸å‘å¸ƒé—¨ç¦ï¼ˆç¤ºä¾‹ï¼‰", ev:[{label:"Talk", url:"#", date:"2024-10-10"}]}
        ],
        influence:["å¯¹å·¥ç¨‹å›¢é˜Ÿâ€˜å¯é‡å¤â€™ä¸â€˜å¯å›å½’â€™å½±å“æ˜¾è‘—ï¼ˆç¤ºä¾‹ï¼‰"]
      },
      follow:[
        {platform:"LinkedIn", handle:"Profile", verify:"strong", ev:"èŒä¸šå±¥å†å¯éªŒè¯ï¼ˆç¤ºä¾‹ï¼‰", url:"#"}
      ],
      what:{clusters:[
        {topic:"Evaluations", claims:[
          {c:"æ²¡æœ‰å¯å›å½’çš„è¯„æµ‹ï¼Œå°±æ²¡æœ‰å¯æŒç»­çš„æ¨¡å‹è¿­ä»£ã€‚", why:"æŠŠè¯„æµ‹åšæˆâ€˜æŒç»­é›†æˆâ€™ï¼šæ•°æ®/æŒ‡æ ‡/é—¨ç¦/å›æ”¾ã€‚", ev:[{t:"Talk notes", url:"#", d:"2024-10-10"}]}
        ]}
      ]},
      sowhat:{
        longTerm:["è®©æ¨¡å‹è¿­ä»£å˜å¾—å¯æ§ã€å¯é‡å¤ã€å¯å®¡è®¡ï¼ˆç¤ºä¾‹ï¼‰"],
        tradeoffs:[
          {stage:"å¹³å°åŒ–", t:"velocity_vs_rigor", decision:"ç‰ºç‰²ä¸€ç‚¹é€Ÿåº¦æ¢å–è¯„æµ‹ä¸¥è°¨åº¦ï¼ˆç¤ºä¾‹ï¼‰", result:"å‘å¸ƒæ›´ç¨³å®šä½†å‰æœŸæˆæœ¬â†‘ï¼ˆç¤ºä¾‹ï¼‰", ev:[{t:"Talk notes", url:"#", d:"2024-10-10"}]}
        ],
        outcomes:["è¯„æµ‹é—¨ç¦/è¯„æµ‹èµ„äº§åŒ–ï¼ˆç¤ºä¾‹ï¼‰"]
      },
      tasks:[
        {level:"Intermediate Â· 45m", task:"å†™ä¸€ä»½ä½ ä»¬äº§å“çš„ Eval Specï¼šæ•°æ®é›†/æŒ‡æ ‡/é˜ˆå€¼/å›æ”¾", output:"Eval Spec è‰æ¡ˆ", inputs:["Evaluations #1"]}
      ]
    },
    {
      id:"dai_yusen",
      name:"æˆ´é›¨æ£®",
      oneLiner:"å›½å†…è¯é¢˜äººç‰©ï¼ˆç¤ºä¾‹ï¼‰Â· éœ€å…ˆåšå¼ºæ¶ˆæ­§ä¸è¯æ®èšåˆ",
      roles:["Founder","Media"],
      orgs:["(å¾…éªŒè¯)"],
      topics:["AI Trends","Entrepreneurship"],
      gate:"review",
      score:63,
      who:{company:"(å¾…éªŒè¯)",function:"åˆ›ä¸š/åª’ä½“",activeYears:"(å¾…éªŒè¯)",aliases:["Dai Yusen"],disambiguation:"é«˜é£é™©ï¼šåŒåä¸è´¦å·æ··æ·†æ¦‚ç‡é«˜ï¼Œå¿…é¡»äººå·¥å¤æ ¸åå‘å¸ƒã€‚"},
      timeline:[],
      why:{contributions:[], influence:["ç›®å‰ç¼ºå¯éªŒè¯è¯æ®ï¼Œå»ºè®®å…ˆåšè´¦å·ç»‘å®šä¸æ¥æºèšåˆã€‚"]},
      follow:[
        {platform:"X/WeChat/Podcast", handle:"(pending)", verify:"weak", ev:"ç¼ºå¼ºè¯æ®ï¼›é»˜è®¤ä¸å±•ç¤º", url:"#"}
      ],
      what:{clusters:[]},
      sowhat:{longTerm:["(å¾…è¯æ®)"], tradeoffs:[], outcomes:[]},
      tasks:[
        {level:"Intro Â· 15m", task:"å…ˆå®Œæˆâ€˜èº«ä»½ç¡®è®¤â€™ï¼šæ‰¾åˆ° 2 æ¡å¼ºè¯æ®äº’é“¾ï¼ˆå®˜ç½‘/æƒå¨é‡‡è®¿/LinkedInï¼‰", output:"è¯æ®é“¾æ¥åˆ—è¡¨", inputs:["è´¦å·å€™é€‰"]}
      ]
    }
  ];

  const state = { query:"", role:null, topic:null, gate:null, selectedId:null, tab:"who", compare:[] };

  const $ = (sel, el=document) => el.querySelector(sel);
  const $$ = (sel, el=document) => Array.from(el.querySelectorAll(sel));
  const uniq = arr => Array.from(new Set(arr));
  const initials = (name) => {
    const n = (name||"").trim();
    if(!n) return "A";
    const isCJK = /[\u4e00-\u9fff]/.test(n[0]);
    if(isCJK) return n[0];
    const parts = n.split(/\s+/).filter(Boolean);
    return (parts[0]?.[0]||"A").toUpperCase() + (parts[1]?.[0]||"").toUpperCase();
  };
  const toast = (msg) => {
    const t = $("#toast");
    t.textContent = msg;
    t.style.display = "block";
    clearTimeout(window.__t);
    window.__t = setTimeout(()=> t.style.display="none", 1800);
  };

  function renderChips(){
    const roles = uniq(PEOPLE.flatMap(p=>p.roles)).sort();
    const topics = uniq(PEOPLE.flatMap(p=>p.topics)).sort();
    $("#roleChips").innerHTML = roles.map(r => `<span class="chip ${state.role===r?'active':''}" data-role="${r}">${r}</span>`).join("");
    $("#topicChips").innerHTML = topics.map(t => `<span class="chip ${state.topic===t?'active':''}" data-topic="${t}">${t}</span>`).join("");

    $("#roleChips").addEventListener("click", (e)=>{
      const c = e.target.closest(".chip[data-role]");
      if(!c) return;
      state.role = (state.role===c.dataset.role) ? null : c.dataset.role;
      sync();
    });

    $("#topicChips").addEventListener("click", (e)=>{
      const c = e.target.closest(".chip[data-topic]");
      if(!c) return;
      state.topic = (state.topic===c.dataset.topic) ? null : c.dataset.topic;
      sync();
    });

    $$(".chip[data-qgate]").forEach(ch=>{
      ch.addEventListener("click", ()=>{
        state.gate = (state.gate===ch.dataset.qgate) ? null : ch.dataset.qgate;
        sync();
      });
    });
  }

  function filteredPeople(){
    const q = state.query.toLowerCase().trim();
    return PEOPLE.filter(p=>{
      if(state.role && !p.roles.includes(state.role)) return false;
      if(state.topic && !p.topics.includes(state.topic)) return false;
      if(state.gate){
        if(state.gate==="pass" && p.gate!=="pass") return false;
        if(state.gate==="review" && p.gate!=="review") return false;
      }
      if(q){
        const hay = [p.name, p.oneLiner, ...(p.roles||[]), ...(p.orgs||[]), ...(p.topics||[])].join(" ").toLowerCase();
        if(!hay.includes(q)) return false;
      }
      return true;
    }).sort((a,b)=>b.score-a.score);
  }

  function renderList(){
    const list = $("#peopleList");
    const ppl = filteredPeople();
    $("#resultCount").textContent = String(ppl.length);
    list.innerHTML = ppl.map(p=>{
      const active = p.id===state.selectedId ? "active" : "";
      const gateBadge = p.gate==="pass" ? `<span class="badge ok">å¯å‘å¸ƒ</span>` : `<span class="badge warn">éœ€å¤æ ¸</span>`;
      const w = Math.max(8, Math.min(100, p.score));
      return `
        <div class="person ${active}" data-id="${p.id}">
          <div class="row">
            <div class="avatar">${initials(p.name)}</div>
            <div class="info">
              <div class="name">
                <b>${p.name}</b>
                ${gateBadge}
                <span class="score">
                  <span>Value</span>
                  <span class="bar"><i style="width:${w}%"></i></span>
                  <span>${p.score}</span>
                </span>
              </div>
              <div class="mini">${p.oneLiner}</div>
              <div class="tags">
                ${(p.topics||[]).slice(0,4).map(t=>`<span class="tag">${t}</span>`).join("")}
                ${p.topics.length>4 ? `<span class="tag">+${p.topics.length-4}</span>` : ""}
              </div>
            </div>
          </div>
        </div>
      `;
    }).join("");

    list.onclick = (e)=>{
      const item = e.target.closest(".person[data-id]");
      if(!item) return;
      state.selectedId = item.dataset.id;
      state.tab = "who";
      setHash();
      sync();
    };
  }

  function current(){ return PEOPLE.find(p=>p.id===state.selectedId) || null; }

  function setHero(p){
    if(!p){
      $("#heroAvatar").textContent = "A";
      $("#heroName").textContent = "é€‰æ‹©ä¸€ä¸ªäººç‰©";
      $("#heroDesc").textContent = "å·¦ä¾§ç‚¹å‡»äººç‰©å¡ç‰‡ï¼ŒæŸ¥çœ‹â€œå­¦ä¹ ä»»åŠ¡å‹äººç‰©é¡µâ€ï¼šWho / Timeline / Why / Follow / What / So whatã€‚";
      return;
    }
    $("#heroAvatar").textContent = initials(p.name);
    $("#heroName").textContent = p.name;
    $("#heroDesc").textContent = `${p.oneLiner}  Â·  ä¸»é¢˜ï¼š${(p.topics||[]).slice(0,5).join(" / ")}${p.topics.length>5?" â€¦":""}`;
  }

  function renderTabs(){
    $$("#tabs .tab").forEach(t=> t.classList.toggle("active", t.dataset.tab===state.tab));
  }

  function evLink(e){
    const label = e.t || e.label || "Source";
    const date = e.d || e.date || "";
    const url = e.url || "#";
    return `<a href="${url}" target="_blank" rel="noreferrer">ğŸ”— ${label}<span>${date}</span></a>`;
  }

  function renderWho(p){
    const w = p.who || {};
    return `
      <div class="card">
        <h3>Whoï¼ˆèº«ä»½ä¸è§’è‰²ï¼‰</h3>
        <p>æ ‡å‡†åŒ–èº«ä»½ç”¨äºè¿‡æ»¤/å¯¹æ¯”ï¼›åŒåæ¶ˆæ­§æ˜¯è´¨é‡é—¨ç¦çš„ç¬¬ä¸€å…³ã€‚</p>
        <div class="kv">
          <div class="k">å…¬å¸/ç»„ç»‡</div><div class="v">${w.company||"â€”"}</div>
          <div class="k">èŒèƒ½</div><div class="v">${w.function||"â€”"}</div>
          <div class="k">æ´»è·ƒæ—¶æœŸ</div><div class="v">${w.activeYears||"â€”"}</div>
          <div class="k">åˆ«å</div><div class="v">${(w.aliases||[]).join(" / ") || "â€”"}</div>
          <div class="k">æ¶ˆæ­§å¤‡æ³¨</div><div class="v">${w.disambiguation||"â€”"}</div>
        </div>
        <div class="tags" style="margin-top:12px">
          ${(p.roles||[]).map(r=>`<span class="tag">${r}</span>`).join("")}
          ${(p.orgs||[]).map(o=>`<span class="tag">${o}</span>`).join("")}
        </div>
      </div>

      <div class="card">
        <h3>è´¨é‡çŠ¶æ€</h3>
        <p>è¿™ä¼šå½±å“æ˜¯å¦å¯ç›´æ¥å‘å¸ƒï¼Œæˆ–è¿›å…¥äººå·¥å®¡æ ¸é˜Ÿåˆ—ã€‚</p>
        <ul class="list2">
          <li>è´¨é‡é—¨ç¦ï¼š${p.gate==="pass" ? `<span class="badge ok">å¯ç›´æ¥å‘å¸ƒ</span>` : `<span class="badge warn">éœ€äººå·¥å¤æ ¸</span>`}</li>
          <li>Value Scoreï¼š<b>${p.score}</b>ï¼ˆç¤ºä¾‹ï¼šå½±å“åŠ›/è´¡çŒ®/å¯å­¦ä¹ æ€§/æ—¶æ•ˆ - é£é™©ï¼‰</li>
          <li>è¾¹ç•Œï¼šYouTube åªæ”¶å½•é“¾æ¥/æ ‡é¢˜/ç®€ä»‹ï¼›æ·±æŒ–ç”±å¤–éƒ¨å›¢é˜Ÿäº§å‡ºæ‘˜è¦å†æ¥å…¥ã€‚</li>
        </ul>
        <div class="empty" style="margin-top:10px">
          è¿™é‡Œå¯ä»¥æ”¾ï¼š<b>æ›´æ–°ç›‘æ§</b>ï¼ˆæœ€è¿‘7å¤©æ–°å¢å†…å®¹ï¼‰ã€<b>é£é™©æ ‡è®°</b>ï¼ˆåŒå/å¼±è´¦å·/ç¼ºè¯æ®ï¼‰ä¸<b>å¾…åŠ</b>ï¼ˆCurator actionsï¼‰ã€‚
        </div>
      </div>
    `;
  }

  function renderTimeline(p){
    const items = p.timeline || [];
    return `
      <div class="card" style="grid-column: span 12;">
        <h3>Career Timelineï¼ˆå¯éªŒè¯æ—¶é—´çº¿ï¼‰</h3>
        <p>æ¯æ®µç»å†éƒ½è¦ç»‘å®šè¯æ®æ¥æºï¼ˆLinkedIn / å®˜æ–¹ç®€ä»‹ / é‡‡è®¿è‡ªè¿°ç­‰ï¼‰ã€‚</p>
        ${items.length ? items.map(it=>`
          <div class="claim">
            <b>${it.period} Â· ${it.org} Â· ${it.role}</b>
            <div class="why">${it.what}</div>
            <div class="ev">${(it.ev||[]).map(evLink).join("")}</div>
          </div>
        `).join("") : `<div class="empty">æš‚æ— å¯éªŒè¯æ—¶é—´çº¿ï¼šå»ºè®®å…ˆåšè´¦å·ç»‘å®šä¸æƒå¨æ¥æºèšåˆã€‚</div>`}
      </div>
    `;
  }

  function renderWhy(p){
    const c = (p.why && p.why.contributions) || [];
    const infl = (p.why && p.why.influence) || [];
    return `
      <div class="card">
        <h3>è´¡çŒ®ç±»å‹ï¼ˆäº§å“/è®ºæ–‡/å¼€æº/ç»„ç»‡/æ€æƒ³ï¼‰</h3>
        <p>ä¸æ˜¯â€œå¤´è¡”â€ï¼Œè€Œæ˜¯â€œå¯¹è¡Œä¸š/å·¥ç¨‹äº§ç”Ÿäº†ä»€ä¹ˆå¯éªŒè¯çš„å½±å“â€ã€‚</p>
        ${c.length ? c.map(x=>`
          <div class="claim">
            <b>${x.type} Â· ${x.name}</b>
            <div class="why">${x.impact}</div>
            <div class="ev">${(x.ev||[]).map(evLink).join("")}</div>
          </div>
        `).join("") : `<div class="empty">è´¡çŒ®æ¡ç›®ä¸è¶³ï¼šå…ˆè¡¥è¯æ®æ¥æºä¸å…³é”®äº§å‡ºã€‚</div>`}
      </div>

      <div class="card">
        <h3>å½±å“åŠ›ä¿¡å·ï¼ˆWhy it mattersï¼‰</h3>
        <p>ç”¨äºâ€œé«˜ä»·å€¼åˆ¤å®šâ€ä¸é€‰é¢˜æ’åºï¼šå…±ç°ç½‘ç»œã€è¡Œä¸šæåŠã€å¼•ç”¨ä¸è®¨è®ºç„¦ç‚¹ã€‚</p>
        ${infl.length ? `<ul class="list2">${infl.map(s=>`<li>${s}</li>`).join("")}</ul>` : `<div class="empty">æš‚æ— å½±å“åŠ›ä¿¡å·ï¼šå»ºè®®è¡¥å……æåŠä¸å…±ç°è¯æ®ã€‚</div>`}
        <div class="tags" style="margin-top:10px">
          ${(p.topics||[]).slice(0,8).map(t=>`<span class="tag">${t}</span>`).join("")}
        </div>
      </div>
    `;
  }

  function renderFollow(p){
    const f = p.follow || [];
    return `
      <div class="card" style="grid-column: span 12;">
        <h3>Where to followï¼ˆè´¦å·ä¸å¯ä¿¡åº¦ï¼‰</h3>
        <p>è´¦å·å¿…é¡»æ ‡æ³¨å¯ä¿¡ç­‰çº§ï¼š<span class="badge ok">verified</span> / <span class="badge warn">strong</span> / <span class="badge bad">weak</span>ã€‚å¼±å…³è”é»˜è®¤éšè—æˆ–é™æƒã€‚</p>
        ${f.length ? f.map(a=>{
          const b = a.verify==="verified" ? "ok" : (a.verify==="strong" ? "warn" : "bad");
          const note = a.note ? ` Â· <span class="muted">${a.note}</span>` : "";
          return `
            <div class="claim">
              <b>${a.platform} Â· ${a.handle}</b>
              <div class="why"><span class="badge ${b}">${a.verify}</span> ${a.ev || ""}${note}</div>
              <div class="ev">${evLink({t:"Open", url:a.url||"#", d:""})}</div>
            </div>
          `;
        }).join("") : `<div class="empty">æš‚æ— è´¦å·ä¿¡æ¯ï¼šå…ˆå®Œæˆå¼ºè¯æ®äº’é“¾éªŒè¯ã€‚</div>`}
      </div>
    `;
  }

  function renderWhat(p){
    const clusters = (p.what && p.what.clusters) || [];
    if(!clusters.length){
      return `<div class="card" style="grid-column: span 12;">
        <h3>What they sayï¼ˆå†…å®¹ä¸è§‚ç‚¹åº“ï¼‰</h3>
        <p>æ¯æ¡è§‚ç‚¹å¿…é¡»æŒ‚ 1~3 æ¡å‡ºå¤„ï¼›æŒ‰ä¸»é¢˜èšç±»ã€‚</p>
        <div class="empty">æš‚æ— è§‚ç‚¹å¡ï¼šå»ºè®®å…ˆåš RAG ç´¢å¼•ä¸å¯å¼•ç”¨ç‰‡æ®µæŠ½å–ã€‚</div>
      </div>`;
    }
    return clusters.map(cl=>{
      const claims = cl.claims || [];
      return `
        <div class="card" style="grid-column: span 12;">
          <h3>ä¸»é¢˜ï¼š${cl.topic}</h3>
          <p>ä»£è¡¨æ€§è§‚ç‚¹å¡ï¼ˆæ¯æ¡éƒ½æŒ‚è¯æ®ï¼‰ï¼›ç”¨äºå­¦ä¹ ä¸å¯¹æ¯”ã€‚</p>
          ${claims.map((x, idx)=>`
            <div class="claim">
              <b>${idx+1}. ${x.c}</b>
              <div class="why">${x.why}</div>
              <div class="ev">${(x.ev||[]).map(e=>evLink({t:e.t,url:e.url,d:e.d})).join("")}</div>
            </div>
          `).join("")}
        </div>
      `;
    }).join("");
  }

  function renderSoWhat(p){
    const sw = p.sowhat || {};
    const lt = sw.longTerm || [];
    const tr = sw.tradeoffs || [];
    const out = sw.outcomes || [];
    return `
      <div class="card">
        <h3>é•¿æœŸé—®é¢˜ï¼ˆLong-term questionsï¼‰</h3>
        <p>è¿™ä¸ªäººæŒç»­åœ¨è§£å†³ä»€ä¹ˆï¼Ÿç”¨äºâ€œå­¦ä¹ ä¸»çº¿â€ã€‚</p>
        ${lt.length ? `<ul class="list2">${lt.map(x=>`<li>${x}</li>`).join("")}</ul>` : `<div class="empty">(å¾…è¯æ®)</div>`}
      </div>

      <div class="card">
        <h3>ç»“æœï¼ˆOutcomesï¼‰</h3>
        <p>å½¢æˆäº†å“ªäº›äº§å“/æ–¹æ³•/ç»„ç»‡/å½±å“ï¼Ÿ</p>
        ${out.length ? `<ul class="list2">${out.map(x=>`<li>${x}</li>`).join("")}</ul>` : `<div class="empty">æš‚æ— ç»“æœé¡¹ï¼šå»ºè®®è¡¥å……å¯éªŒè¯äº§å‡ºã€‚</div>`}
      </div>

      <div class="card" style="grid-column: span 12;">
        <h3>é˜¶æ®µå–èˆï¼ˆTradeoffsï¼‰</h3>
        <p>ç”¨ç»Ÿä¸€æ¨¡æ¿è¡¨è¾¾ï¼šé•¿æœŸé—®é¢˜ â†’ é˜¶æ®µæƒè¡¡ â†’ å†³ç­– â†’ ç»“æœï¼ˆå¸¦è¯æ®ï¼‰ã€‚</p>
        ${tr.length ? tr.map(x=>`
          <div class="claim">
            <b>${x.stage} Â· ${x.t.replaceAll("_"," ")}</b>
            <div class="why"><b>å–èˆï¼š</b>${x.decision}<br/><b>ç»“æœï¼š</b>${x.result}</div>
            <div class="ev">${(x.ev||[]).map(e=>evLink({t:e.t,url:e.url,d:e.d})).join("")}</div>
          </div>
        `).join("") : `<div class="empty">æš‚æ— å–èˆæ¡ç›®ï¼šå»ºè®®ä»æ—¶é—´çº¿ + è§‚ç‚¹ä¸­æŠ½å–å¹¶è¡¥è¯æ®ã€‚</div>`}
      </div>
    `;
  }

  function renderTasks(p){
    const t = p.tasks || [];
    return `
      <div class="card" style="grid-column: span 12;">
        <h3>Learning tasksï¼ˆå­¦ä¹ ä»»åŠ¡ï¼‰</h3>
        <p>æŠŠâ€œçœ‹æ‡‚â€å˜æˆâ€œèƒ½ç”¨â€ï¼šæ¯æ¡ä»»åŠ¡éƒ½æœ‰è¾“å…¥ã€äº§å‡ºä¸æ—¶é—´ç›’ã€‚</p>
        ${t.length ? t.map(x=>`
          <div class="claim">
            <b>${x.level}</b>
            <div class="why">${x.task}</div>
            <div class="ev"><a href="#" onclick="return false">ğŸ§© é¢„æœŸäº§å‡ºï¼š${x.output}<span>${(x.inputs||[]).join(" Â· ")}</span></a></div>
          </div>
        `).join("") : `<div class="empty">æš‚æ— å­¦ä¹ ä»»åŠ¡ï¼šå»ºè®®ç”¨â€œä»»åŠ¡è®¾è®¡å¸ˆâ€æœºå™¨äººç”Ÿæˆå¹¶äººå·¥æŒ‘é€‰ã€‚</div>`}
      </div>
    `;
  }

  function renderMain(){
    const p = current();
    setHero(p);
    renderTabs();
    const box = $("#content");
    if(!p){
      box.innerHTML = `
        <div class="card" style="grid-column: span 12;">
          <h3>æ¬¢è¿æ¥åˆ° AI People Wiki</h3>
          <p>è¿™é‡Œä¸æ˜¯äººç‰©ç”Ÿå¹³ï¼Œè€Œæ˜¯â€œå­¦ä¹ ä»»åŠ¡é¡µâ€ã€‚ä½ å¯ä»¥ï¼š</p>
          <ul class="list2">
            <li>æŒ‰ä¸»é¢˜ç­›é€‰ï¼šAgent / RAG / Evaluations / Personalization / Safety â€¦</li>
            <li>æŸ¥çœ‹æ¯æ¡è§‚ç‚¹çš„è¯æ®æ¥æºï¼ˆé¿å…å¼ å† ææˆ´ï¼‰</li>
            <li>æŠŠäººç‰©åŠ å…¥å¯¹æ¯”ï¼Œæ¯”è¾ƒåŒä¸»é¢˜ä¸‹çš„åˆ†æ­§ä¸å–èˆ</li>
            <li>ä¸€é”®ç”Ÿæˆæ¯å‘¨å­¦ä¹ æ¸…å•ï¼ˆä¾›å›¢é˜Ÿå…±å­¦ï¼‰</li>
          </ul>
          <div class="empty">æç¤ºï¼šæœ¬é¡µé¢æ˜¯é™æ€åŸå‹ï¼ˆç¤ºä¾‹æ•°æ®ï¼‰ï¼Œç”¨äºå±•ç¤ºâ€œé¢„æœŸé•¿ä»€ä¹ˆæ ·â€ã€‚</div>
        </div>
      `;
      return;
    }
    let html = "";
    if(state.tab==="who") html = renderWho(p);
    if(state.tab==="timeline") html = renderTimeline(p);
    if(state.tab==="why") html = renderWhy(p);
    if(state.tab==="follow") html = renderFollow(p);
    if(state.tab==="what") html = renderWhat(p);
    if(state.tab==="sowhat") html = renderSoWhat(p);
    if(state.tab==="tasks") html = renderTasks(p);
    box.innerHTML = html;
  }

  function renderCompareSlots(){
    const slots = $("#cmpSlots");
    const picks = state.compare.map(id => PEOPLE.find(p=>p.id===id)).filter(Boolean);
    slots.innerHTML = [0,1,2].map(i=>{
      const p = picks[i];
      if(!p){
        return `
          <div class="box">
            <div class="t"><b>ç©ºä½ ${i+1}</b><span class="small">ä»äººç‰©é¡µç‚¹å‡»â€œåŠ å…¥å¯¹æ¯”â€</span></div>
            <div class="line"></div>
            <div class="small">å»ºè®®é€‰æ‹©åŒä¸€ä¸»é¢˜çš„ 2~3 äººï¼Œä¾¿äºå¯¹æ¯”â€œå–èˆâ€ã€‚</div>
          </div>
        `;
      }
      return `
        <div class="box" data-id="${p.id}">
          <div class="t"><b>${p.name}</b><span class="x" data-remove="${p.id}">ç§»é™¤</span></div>
          <div class="line"></div>
          <div class="small">${p.oneLiner}</div>
          <div class="tags" style="margin-top:10px">${(p.topics||[]).slice(0,5).map(t=>`<span class="tag">${t}</span>`).join("")}</div>
        </div>
      `;
    }).join("");

    slots.onclick = (e)=>{
      const rm = e.target.closest("[data-remove]");
      if(!rm) return;
      state.compare = state.compare.filter(x=>x!==rm.dataset.remove);
      syncCompare();
    };
  }

  function syncCompare(){
    $("#cmpCount").textContent = String(state.compare.length);
    renderCompareSlots();
    $("#cmpView").style.display = "none";
    $("#cmpView").innerHTML = "";
  }

  function runCompare(){
    const picks = state.compare.map(id => PEOPLE.find(p=>p.id===id)).filter(Boolean);
    if(picks.length < 2){ toast("è‡³å°‘é€‰æ‹©ä¸¤ä½äººç‰©è¿›è¡Œå¯¹æ¯”"); return; }
    const view = $("#cmpView");
    view.style.display = "grid";
    view.innerHTML = picks.map(p=>{
      const lt = (p.sowhat && p.sowhat.longTerm) || [];
      const tr = (p.sowhat && p.sowhat.tradeoffs) || [];
      const top = (p.topics||[]).slice(0,6);
      return `
        <div class="col">
          <h4>${p.name} <span class="muted">Â· Value ${p.score}</span></h4>
          <div class="muted" style="font-size:12px;margin:-4px 0 8px">${p.oneLiner}</div>
          <div class="muted" style="font-size:12px;margin:10px 0 6px">é•¿æœŸé—®é¢˜</div>
          <ul>${(lt.length?lt:["(å¾…è¯æ®)"]).slice(0,3).map(x=>`<li>${x}</li>`).join("")}</ul>
          <div class="muted" style="font-size:12px;margin:10px 0 6px">å…³é”®å–èˆï¼ˆTopï¼‰</div>
          <ul>${(tr.length?tr:[{stage:"â€”",t:"(none)",decision:"â€”"}]).slice(0,2).map(x=>`<li><b>${x.stage}</b>ï¼š${x.t.replaceAll("_"," ")} â†’ ${x.decision}</li>`).join("")}</ul>
          <div class="muted" style="font-size:12px;margin:10px 0 6px">ä¸»é¢˜æ ‡ç­¾</div>
          <div class="tags">${top.map(t=>`<span class="tag">${t}</span>`).join("")}</div>
        </div>
      `;
    }).join("");
  }

  function setHash(){
    const p = state.selectedId ? `p=${state.selectedId}` : "";
    const t = state.tab ? `t=${state.tab}` : "";
    const parts = [p,t].filter(Boolean).join("&");
    location.hash = parts ? `#${parts}` : "";
  }
  function readHash(){
    const h = (location.hash||"").replace(/^#/,"");
    if(!h) return;
    const params = Object.fromEntries(h.split("&").map(kv=>kv.split("=")).filter(x=>x.length===2));
    if(params.p && PEOPLE.some(p=>p.id===params.p)) state.selectedId = params.p;
    if(params.t) state.tab = params.t;
  }

  function sync(){
    $$("#roleChips .chip").forEach(c=> c.classList.toggle("active", state.role===c.dataset.role));
    $$("#topicChips .chip").forEach(c=> c.classList.toggle("active", state.topic===c.dataset.topic));
    $$(".chip[data-qgate]").forEach(c=> c.classList.toggle("active", state.gate===c.dataset.qgate));
    renderList();
    renderMain();
    syncCompare();
  }

  $("#search").addEventListener("input", (e)=>{ state.query = e.target.value || ""; sync(); });

  $$("#tabs .tab").forEach(t=>{
    t.addEventListener("click", ()=>{
      state.tab = t.dataset.tab;
      setHash();
      sync();
    });
  });

  $("#addToCompare").addEventListener("click", ()=>{
    const p = current();
    if(!p) return toast("å…ˆé€‰æ‹©ä¸€ä¸ªäººç‰©");
    if(state.compare.includes(p.id)) return toast("å·²åœ¨å¯¹æ¯”åˆ—è¡¨");
    if(state.compare.length>=3) return toast("æœ€å¤šå¯¹æ¯” 3 äºº");
    state.compare.push(p.id);
    toast("å·²åŠ å…¥å¯¹æ¯”");
    syncCompare();
  });

  $("#openCompare").addEventListener("click", ()=>{ $("#drawer").classList.add("open"); renderCompareSlots(); });
  $("#closeCompare").addEventListener("click", ()=>{ $("#drawer").classList.remove("open"); });
  $("#runCompare").addEventListener("click", ()=> runCompare());

  $("#copyLink").addEventListener("click", async ()=>{
    setHash();
    const url = location.href;
    try{ await navigator.clipboard.writeText(url); toast("å·²å¤åˆ¶åˆ†äº«é“¾æ¥ï¼ˆå½“å‰äººç‰©/Tabï¼‰"); }
    catch(e){ toast("å¤åˆ¶å¤±è´¥ï¼ˆæµè§ˆå™¨é™åˆ¶ï¼‰ï¼Œå¯æ‰‹åŠ¨å¤åˆ¶åœ°å€æ "); }
  });

  $("#startTasks").addEventListener("click", ()=>{
    const p = current();
    if(!p) return toast("å…ˆé€‰æ‹©ä¸€ä¸ªäººç‰©");
    state.tab = "tasks"; setHash(); sync();
    toast("å·²è·³è½¬åˆ° Learning tasks");
  });

  $("#weekly").addEventListener("click", ()=> toast("ï¼ˆåŸå‹ï¼‰ä¼šæ ¹æ®è®¢é˜…ä¸»é¢˜/äººç‰©ç”Ÿæˆæ¯å‘¨å­¦ä¹ æ¸…å•"));
  $("#subscribe").addEventListener("click", ()=> toast("ï¼ˆåŸå‹ï¼‰å·²è®¢é˜…ï¼šæ–°å†…å®¹è§¦å‘å¢é‡åˆ·æ–°ä¸æé†’"));

  window.addEventListener("keydown", (e)=>{
    if((e.ctrlKey || e.metaKey) && e.key.toLowerCase()==="k"){
      e.preventDefault(); $("#search").focus();
    }
  });

  renderChips();
  readHash();
  sync();
</script>
</body>
</html>
